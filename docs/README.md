# MCP Feedback Collector 文档导航中心

## 📚 文档导航

本文档中心提供项目完整技术文档的导航索引，帮助快速定位所需信息。

### 🏗️ 架构层文档
- **[架构层主目录](./架构层/index.md)** - 架构相关文档导航

### 🔄 交互层文档  
- **[交互层主目录](./交互层/index.md)** - 模块交互相关文档导航

### 🔧 模块层文档
- **[模块层主目录](./模块层/index.md)** - 各模块详细分析文档导航

## 📋 文档状态

| 文档层次 | 完成状态 | 最后更新 | 说明 |
|---------|---------|----------|------|
| 架构层 | ✅ 完成 | 2024-01 | 项目整体架构设计和技术栈说明，已更新场景化架构 |
| 交互层 | ✅ 完成 | 2024-01 | 模块间依赖关系和交互流程，已更新数据库交互 |
| 模块层 | ✅ 完成 | 2024-01 | 前端模块详细分析，后端模块已补充，包含场景管理和数据库存储 |

## 🔍 快速定位

### 按分析层次定位
- **第一层（整体架构）**: [架构层主目录](./架构层/index.md)
- **第二层（模块交互）**: [交互层主目录](./交互层/index.md)
- **第三层（模块内部）**: [模块层主目录](./模块层/index.md)

### 按功能模块定位
- **前端相关**: [前端模块](./模块层/前端模块/index.md)
- **后端相关**: [后端模块](./模块层/后端模块/index.md)
- **场景管理**: [场景管理功能](./模块层/前端模块/详细分析.md#场景管理系统)
- **数据库存储**: [数据库模块](./模块层/后端模块/详细分析.md#数据库管理)

## 🎯 项目简介

MCP Feedback Collector 是一个基于 Model Context Protocol (MCP) 的现代化反馈收集服务，主要用于收集用户对AI工作汇报的反馈意见。

**核心特性**: 
- MCP协议支持
- 实时Web界面
- 多客户端支持
- Stagewise集成
- 场景化工作流管理
- 快捷语模式切换
- 图片上传和处理
- SQLite数据库存储
- 性能监控

**技术栈**: Node.js + TypeScript + Vue.js 3 + Socket.IO + Express + Pinia + SQLite + Better-SQLite3

## 🆕 最新功能亮点

### 🎭 场景化工作流系统
- **多场景支持**: 支持创建、编辑、删除自定义工作场景
- **场景模式**: 每个场景可配置多种工作模式（探讨、编辑、搜索等）
- **默认场景**: 内置编码场景，包含常用的三种工作模式
- **场景切换**: 实时切换不同场景和模式，无需重启服务
- **场景导入导出**: 支持场景配置的批量导入和导出

### 💾 SQLite数据库存储
- **持久化存储**: 场景、模式、提示词配置存储在SQLite数据库中
- **数据库迁移**: 支持数据库版本升级和数据迁移
- **跨平台存储**: 根据操作系统自动选择合适的存储路径
- **数据完整性**: 完整的数据约束和事务处理

### 🔧 增强的提示词系统
- **模板化提示词**: 支持变量替换和模板渲染
- **场景化提示词**: 不同场景使用不同的提示词模板
- **动态加载**: 支持运行时动态加载和更新提示词
- **快捷键支持**: 场景模式支持自定义快捷键

### 📊 改进的状态管理
- **Pinia集成**: 使用Pinia进行前端状态管理
- **场景状态**: 独立的场景管理状态store
- **连接状态**: 优化的Socket.IO连接状态管理
- **反馈状态**: 统一的反馈数据管理

### 🖼️ 图片处理系统
- **图片上传**: 支持多种图片格式上传
- **图片压缩**: 客户端Canvas压缩优化
- **图片预览**: 实时图片预览和管理
- **图片处理**: 后端图片处理和存储

### 🔌 独立工具栏服务
- **完全解耦**: 独立的工具栏服务，支持多服务环境
- **双WebSocket架构**: SRPC通信 + 广播机制
- **固定端口策略**: 使用5748端口，解决服务发现问题
- **多实例支持**: 支持多个WebService实例同时接收prompt
- **实时广播**: 毫秒级prompt广播，所有服务同时处理
- **独立部署**: 可单独部署、更新和维护

---

*文档导航最后更新: 2024年1月*
*文档版本: v1.4.0* 